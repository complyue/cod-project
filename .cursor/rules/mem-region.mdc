---
description: 
globs: 
alwaysApply: true
---
When handling `global_ptr` or `regional_ptr`, immediately reference `design/MemoryRegionAndRegionalTypes.md` and adhere precisely to all specified protocols, constraints, and best practices outlined in the document. Ensure full compliance with memory management guidelines, type safety rules, and region-specific access patterns without deviation.

shilos has zero-cost-relocation of mem regions as its core feature, certain ergonomics, e.g. stack allocation, simple ptr arithmetics, are necessarily traded off. correctness is more important than ergonomics in this stage, in the long run, a new compiled programming language will be developed to make shilos program easy to write and read, focus on correctness as with C++ code to complete the design & implementation in current stage.
